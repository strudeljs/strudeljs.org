<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    
    <title>Initialization | Strudel</title>

    <meta name="description" content="Strudel.js - Lightweight Component Framework">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Initialization — Strudel.js">
    <meta property="og:description" content="Strudel.js - Lightweight Component Framework">
    <meta property="og:image" content="https://strudeljs.org//images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Initialization — Strudel.js">
    <meta name="twitter:description" content="Strudel.js - Lightweight Component Framework">
    <meta name="twitter:image" content="https://strudeljs.org/images/logo.png">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="icon" type="image/png" href="/images/favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon/favicon-16x16.png" sizes="16x16">
    <meta name="theme-color" content="#FFDA5C">
    <link href="//fonts.googleapis.com/css?family=Lato|Comfortaa|Roboto Mono" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/style.css">

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-17077875-3', 'strudeljs.org');
        ga('send', 'pageview');
    </script>
</head>
<body class="guide">
    <header class="main-header">
    <button class="nav-toggle"><span></span></button>
    <a class="main-logo" href="/"><img src="/images/strudel.svg"></a>
    <div class="navigation">
        <nav class="main-nav" role="navigation">
            
            <a class="main-nav__link current" href="/guide/" >Guide</a>
            
            <a class="main-nav__link" href="/api/" >API</a>
            
            <a class="main-nav__link" href="/examples/" >Examples</a>
            
            <a class="main-nav__link" href="/community/" >Community</a>
            
        </nav>
        <a href="http://github.com/strudeljs/strudel/releases" target="_blank" class="recent-version">v0.5.4</a>
    </div>
</header>
    <section class="main-content"><div class="mobile-nav" onmouseover="document.body.style.overflow='hidden';" onmouseout="document.body.style.overflow='auto';">
    <nav role="mobile-nav__navigation">
    
    <div class="mobile-nav__item">
        <a class="mobile-nav__link current" href="/guide/" >Guide</a>
    </div>
    
    <div class="mobile-nav__item">
        <a class="mobile-nav__link" href="/api/" >API</a>
    </div>
    
    <div class="mobile-nav__item">
        <a class="mobile-nav__link" href="/examples/" >Examples</a>
    </div>
    
    <div class="mobile-nav__item">
        <a class="mobile-nav__link" href="/community/" >Community</a>
    </div>
    
</nav>
<ul class="mobile-nav__sidebar anchors guide">
    
    
    
    
    
    
        <li><h3>Overview</h3></li>
    
    
    
    
    
    <li>
        <div class="mobile-nav__item">
            <a href="/guide/installation.html" class="mobile-nav__sidebar-link">Installation</a>
        </div>
    </li>
    
    
    
    
    
    
    
    
    <li>
        <div class="mobile-nav__item">
            <a href="/guide/index.html" class="mobile-nav__sidebar-link">Introduction</a>
        </div>
    </li>
    
    
    
    
    
    
    
    
    <li>
        <div class="mobile-nav__item">
            <a href="/guide/components.html" class="mobile-nav__sidebar-link">Components</a>
        </div>
    </li>
    
    
    
    
    
    
    
    
    <li>
        <div class="mobile-nav__item">
            <a href="/guide/dom.html" class="mobile-nav__sidebar-link">Manipulating DOM</a>
        </div>
    </li>
    
    
    
    
    
    
    
    
    <li>
        <div class="mobile-nav__item">
            <a href="/guide/eventhandling.html" class="mobile-nav__sidebar-link">Event Handling</a>
        </div>
    </li>
    
    
    
    
    
        <li><h3>Advanced</h3></li>
    
    
    
    
    <li>
        <div class="mobile-nav__item">
            <a href="/guide/initialization.html" class="mobile-nav__sidebar-link current">Initialization</a>
        </div>
    </li>
    
    
    
    
    
    
    
    
    <li>
        <div class="mobile-nav__item">
            <a href="/guide/lifecycle.html" class="mobile-nav__sidebar-link">Lifecycle</a>
        </div>
    </li>
    
    
    
    
    
    
    
    
    <li>
        <div class="mobile-nav__item">
            <a href="/guide/extending.html" class="mobile-nav__sidebar-link">Extending</a>
        </div>
    </li>
    
    
    
    
    
    
    
    
    <li>
        <div class="mobile-nav__item">
            <a href="/guide/styleguide.html" class="mobile-nav__sidebar-link">Styleguide</a>
        </div>
    </li>
    
    
    
    
    
    
        <li><h3>CLI</h3></li>
    
    
    
    <li>
        <div class="mobile-nav__item">
            <a href="/guide/usage.html" class="mobile-nav__sidebar-link">Usage</a>
        </div>
    </li>
    
    
    
    
    
    
    
    
    <li>
        <div class="mobile-nav__item">
            <a href="/guide/templates.html" class="mobile-nav__sidebar-link">Templates</a>
        </div>
    </li>
    
    
    
    
    
    
    
    
    <li>
        <div class="mobile-nav__item">
            <a href="/guide/scaffolds.html" class="mobile-nav__sidebar-link">Scaffolds</a>
        </div>
    </li>
    
</ul>

</div>
<div class="sidebar">
    <ul class="sidebar-nav anchors guide" onmouseover="document.body.style.overflow='hidden';" onmouseout="document.body.style.overflow='auto';">
    
    
    
        
        
            
                <li><h3>Overview</h3></li>
            
            
            
        
        
        <li>
            <a href="/guide/installation.html" class="sidebar-nav__link">Installation</a>
        </li>
    
        
        
            
            
            
        
        
        <li>
            <a href="/guide/index.html" class="sidebar-nav__link">Introduction</a>
        </li>
    
        
        
            
            
            
        
        
        <li>
            <a href="/guide/components.html" class="sidebar-nav__link">Components</a>
        </li>
    
        
        
            
            
            
        
        
        <li>
            <a href="/guide/dom.html" class="sidebar-nav__link">Manipulating DOM</a>
        </li>
    
        
        
            
            
            
        
        
        <li>
            <a href="/guide/eventhandling.html" class="sidebar-nav__link">Event Handling</a>
        </li>
    
        
        
            
            
                <li><h3>Advanced</h3></li>
            
            
        
        
        <li>
            <a href="/guide/initialization.html" class="sidebar-nav__link current">Initialization</a>
        </li>
    
        
        
            
            
            
        
        
        <li>
            <a href="/guide/lifecycle.html" class="sidebar-nav__link">Lifecycle</a>
        </li>
    
        
        
            
            
            
        
        
        <li>
            <a href="/guide/extending.html" class="sidebar-nav__link">Extending</a>
        </li>
    
        
        
            
            
            
        
        
        <li>
            <a href="/guide/styleguide.html" class="sidebar-nav__link">Styleguide</a>
        </li>
    
        
        
            
            
            
                <li><h3>CLI</h3></li>
            
        
        
        <li>
            <a href="/guide/usage.html" class="sidebar-nav__link">Usage</a>
        </li>
    
        
        
            
            
            
        
        
        <li>
            <a href="/guide/templates.html" class="sidebar-nav__link">Templates</a>
        </li>
    
        
        
            
            
            
        
        
        <li>
            <a href="/guide/scaffolds.html" class="sidebar-nav__link">Scaffolds</a>
        </li>
    
</ul>
</div>
<div class="content with-sidebar">
    <h1 id="Component-Initialization"><a href="#Component-Initialization" class="headerlink" title="Component Initialization"></a>Component Initialization</h1><h2 id="Linking-to-DOM"><a href="#Linking-to-DOM" class="headerlink" title="Linking to DOM"></a>Linking to DOM</h2><p>Although components can be defined in any moment of the website runtime - you can attach them in <code>&lt;head&gt;</code>, middle of the <code>&lt;body&gt;</code> or before the <code>&lt;body&gt;</code> end. What’s important is when these components are <strong>initialized</strong> and <strong>linked to DOM</strong>. In Strudel linking and initialization happend when document has stopped loading - when browser triggers <code>DOMContentLoaded</code> event. It’s best to have all the markup inplace before that event occurs.</p>
<h2 id="Lazy-initialization"><a href="#Lazy-initialization" class="headerlink" title="Lazy initialization"></a>Lazy initialization</h2><p>There is a way of initializing components that were added to the DOM after that moment in time. Strudel parses the DOM in search of components. To trigger that search after the DOM ready event <code>CustomEvent</code> named <code>contentloaded</code> needs to be triggered.</p>
<p>Framework will receive event, start search for components in scope of element triggering the event and finally initialize components. </p>
<blockquote class="alert"><code>Element.trigger</code> can be used for easier triggering of the <code>contentloaded</code> event </blockquote>


<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">const</span> ERROR = <span class="string">`&lt;div data-msg="Unexpected error" class="error"&gt;&lt;/div&gt;`</span>;</div><div class="line"></div><div class="line">@Component(<span class="string">'loader'</span>)</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Loader</span>() </span>&#123;</div><div class="line">  init() &#123;</div><div class="line">     <span class="keyword">this</span>.$element.append(ERROR);</div><div class="line">     <span class="keyword">this</span>.$element.trigger(<span class="string">'contentloaded'</span>);</div><div class="line">  &#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line">@Component(<span class="string">'error'</span>)</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Error</span> </span>&#123;</div><div class="line">  init() &#123;</div><div class="line">    <span class="keyword">this</span>.$element.html(<span class="keyword">this</span>.$data.msg);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
    
    <div class="quick-links">
        
        <span>← <a class="quick-links__link" href="/guide/eventhandling.html">Event Handling</a></span>
        
        
        <span style="float:right"><a class="quick-links__link" href="/guide/lifecycle.html">Lifecycle</a> →</span>
        
    </div>
    
</div>

</section>
    <script src="/js/main.js"></script>
</body>
</html>